<html>

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <script type="text/javascript" charset="utf-8">

      $(document).ready(function () {


          // append the fetched node data every 4000 millisecond
          window.setInterval(function () {
              fetch_nodes();
          }, 4000);


          function fetch_nodes() {
              $.get('<%= fetch_nodes_path %>', {}, function (data) {
                  $('#nodes_table').prepend('<tr><td>' + data.id + '</td><td>' + data.current_quantity + '</td><td>' + data.branch_name + '</td></tr>');
              });
          }

      });
  </script>
</head>

<body>


<div>

  <table class="table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Current Quantity</th>
      <th scope="col">Branch</th>
    </tr>
    </thead>
    <tbody id="nodes_table">
    <!--<tr>-->
    <!--<td>88</td>-->
    <!--<td>99</td>-->
    <!--<td>4</td>-->
    <!--</tr>-->
    </tbody>
  </table>


</div>

</body>

</html>


